---
import { Mark, Props } from "../types";
import { throwError } from "../internal";
import { unknownMarkWarning } from "../warnings";

const { node, astroClass } = Astro.props as Props<Mark>;
const attrs = { class: astroClass };
const markTypeIs = (markType: string) => markType === node.markType;
const err = unknownMarkWarning(node.markType);
---

{markTypeIs("code") ? (
  <code {...attrs}><slot /></code>
) : markTypeIs("em") ? (
  <em {...attrs}><slot /></em>
) : markTypeIs("link") ? (
  <a href={(node as unknown as Mark<{ href: string }>).markDef.href} {...attrs}><slot /></a>
) : markTypeIs("strike-through") ? (
  <del {...attrs}><slot /></del>
) : markTypeIs("strong") ? (
  <strong {...attrs}><slot /></strong>
) : markTypeIs("underline") ? (
  <span style="text-decoration: underline;" {...attrs}><slot /></span>
) : (
  throwError(err)
)}
